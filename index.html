<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto:300&display=swap&subset=cyrillic" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Rubik:300,400,500&display=swap&subset=cyrillic"
        rel="stylesheet">
    <link rel="stylesheet" href="slick/slick.css">
    <link rel="stylesheet" href="slick/slick-theme.css">
    <title>Document</title>
</head>

<body>
    <section class="help">
        <div class="circle-big">
            <div class="circle-middle">
                <div class="circle-small">
                    <div class="circle-earth">
                        <div class="help-left">
                            <div class="help-item margin-big">
                                <div class="help-item_text left">Получай информацию о «горячих<br>событиях», нуждающихся
                                    в
                                    помощи</div>
                                <!-- /.help-item_text -->
                                <div class="help-item_point help-left_top"></div>
                                <!-- /.help-item_point -->
                            </div>
                            <!-- /.help-item -->
                            <div class="help-item margin-small">
                                <div class="help-item_text left">Будь увереным в безопастности<br>платежей</div>
                                <!-- /.help-item_text -->
                                <div class="help-item_point help-left_middle"></div>
                                <!-- /.help-item_point -->
                            </div>
                            <!-- /.help-item -->
                            <div class="help-item">
                                <div class="help-item_text left">Быстро и лекго перевести<br>пожертвование</div>
                                <!-- /.help-item_text -->
                                <div class="help-item_point help-left_bottom"></div>
                                <!-- /.help-item_point -->
                            </div>
                            <!-- /.help-item -->
                        </div>
                        <!-- /.help-left -->
                        <div class="help-title">
                            <h1>Помогая с Проектом</h1>
                        </div>
                        <!-- /.help-title -->
                        <div class="help-right">
                            <div class="help-item help-item_right margin-big">
                                <div class="help-item_text right">Получай отчеты о результатах фондов<br>и проектов,
                                    которым ты помог</div>
                                <!-- /.help-item_text -->
                                <div class="help-item_point help-right_top"></div>
                                <!-- /.help-item_point -->
                            </div>
                            <!-- /.help-item -->
                            <div class="help-item help-item_right margin-small">
                                <div class="help-item_text right">Распредели пожертвования между<br>фондам</div>
                                <!-- /.help-item_text -->
                                <div class="help-item_point help-right_middle"></div>
                                <!-- /.help-item_point -->
                            </div>
                            <!-- /.help-item -->
                            <div class="help-item help-item_right">
                                <div class="help-item_text right">Четко следуй предписаниям Шариат</div>
                                <!-- /.help-item_text -->
                                <div class="help-item_point help-right_bottom"></div>
                                <!-- /.help-item_point -->
                            </div>
                            <!-- /.help-item -->
                        </div>
                        <!-- /.help-left -->
                        <p>Узнать больше о Проекте</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- /.help -->
    <section class="project">
        <div class="container">
            <div class="project-title">
                <div class="point"></div>
                <h2 class="title">проекты рядом</h2>
            </div>
            <!-- /.project-title -->
            <div class="project-items" id="cards">
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/kids.png" alt="Дети фото">
                        <img class="item-images_logo" src="img/kids_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Сбор средств для постойки школ в<br>Индонезии</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/boy.png" alt="Мужчина">
                        <img class="item-images_logo" src="img/boy_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Поможем дедушке построить пекарню</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/boy.png" alt="Мужчина">
                        <img class="item-images_logo" src="img/boy_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Поможем дедушке построить пекарню</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/hand.png" alt="Рука">
                        <img class="item-images_logo" src="img/boy_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Сбор для Арифулиной Дианы</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/kids.png" alt="Дети фото">
                        <img class="item-images_logo" src="img/kids_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Сбор средств для постойки школ в<br>Индонезии</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/boy.png" alt="Мужчина">
                        <img class="item-images_logo" src="img/boy_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Поможем дедушке построить пекарню</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/boy.png" alt="Мужчина">
                        <img class="item-images_logo" src="img/boy_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Поможем дедушке построить пекарню</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
                <div class="project-item">
                    <div class="item-images">
                        <img class="item-images_photo" src="img/hand.png" alt="Рука">
                        <img class="item-images_logo" src="img/boy_logo.png" alt="Компания лого">
                    </div>
                    <!-- /.item-images -->
                    <button class="button">помощь нуждающимся</button> <!-- /.button --><button
                        class="button">закят</button> <!-- /.button -->
                    <div class="item_title">Сбор для Арифулиной Дианы</div>
                    <!-- /.item_title -->
                    <div class="item_descr">Диана — единственная и долгожданная! У нее сложный порок сердца и ей нужно
                        провести еще одну операцию Фонтена</div>
                    <!-- /.item_descr -->
                    <button class="button_item">
                        <img src="img/palm.png" alt="">
                    </button>
                    <!-- /.button_item -->
                </div>
                <!-- /.project-item -->
            </div>
            <!-- /.project-items -->
            <div class="project-view">
                <div class="project-line"></div>
                <!-- /.project-line -->
                <button class="project-buttons">Смотреть все проекты</button>
                <div class="project-line"></div>
                <!-- /.project-line -->
            </div>
            <!-- /.container -->
    </section>
    <!-- /.projects -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.js"
        integrity="sha256-BTlTdQO9/fascB1drekrDVkaKd9PkwBymMlHOiG+qLI=" crossorigin="anonymous"></script>
    <script src="slick/slick.min.js"></script>
    <script>
        $(document).ready(function () {
            // Подпишемся на ресайз и продиспатчим его для запуска
            $(window).on('resize', function (e) {
                // Переменная, по которой узнаем запущен слайдер или нет.
                // Храним её в data
                let init = $(".project-items").data('init-slider');
                // Если мобильный
                if (window.innerWidth < 1440) {
                    // Если слайдер не запущен
                    if (init != 1) {
                        // Запускаем слайдер и записываем в data init-slider = 1
                        $('.project-items').slick({
                            infinite: true,
                            dots: true,
                            slidesToShow: 2,
                            slidesToScroll: 2,
                            arrows: false,
                            responsive: [{
                                breakpoint: 768,
                                settings: {
                                    slidesToShow: 1,
                                    slidesToScroll: 1
                                }
                            }]
                        }).data({
                            'init-slider': 1
                        });
                    }
                }
                // Если десктоп
                else {
                    // Если слайдер запущен
                    if (init == 1) {
                        // Разрушаем слайдер и записываем в data init-slider = 0
                        $('.project-items').slick('unslick').data({
                            'init-slider': 0
                        });
                    }
                }
            }).trigger('resize');




            // Раскрытие карточек на экранах меньше чем 1440px

            // Получаем кнопку по селектору
            let button = document.querySelector('.project-buttons');
            // Отслеживаем клик по кнопке
            button.addEventListener('click', function () {
                // Переменная, по которой узнаем запущен слайдер или нет.
                // Храним её в data
                let init = $(".project-items").data('init-slider');
                // Если на мобильном
                if (window.innerWidth < 1440) {
                    // Если слайдер запущен
                    if (init == 1) {
                        // Грохаем слайдер и записываем в data init-slider = 0
                        $('.project-items').slick('unslick').data({
                            'init-slider': 0
                        });
                        $(this).text('Скрыть все проекты');
                        // Иначе на десктопе
                    } else {
                        // Активируем слайдер и записываем в data init-slider = 1
                        $('.project-items').slick({
                            infinite: true,
                            dots: true,
                            slidesToShow: 2,
                            slidesToScroll: 2,
                            arrows: false,
                            responsive: [{
                                breakpoint: 768,
                                settings: {
                                    slidesToShow: 1,
                                    slidesToScroll: 1
                                }
                            }]
                        }).data({
                            'init-slider': 1
                        });
                        $(this).text('Смотреть все проекты');
                    }
                }
            });


            $(window).on('resize', function (e) {
                // Переменная, по которой узнаем запущен слайдер или нет.
                // Храним её в data
                let init = $(".project-items").data('init-slider');
                // Если мобильный
                if ((window.innerWidth < 1440) && ($(".project-items")
                        .hasClass("open") || $(".project-view").hasClass("full") || $(
                            ".project-items").hasClass("full-margin"))) {
                    $('.project-items').slick('unslick').data({
                        'init-slider': 0
                    });
                }
            });



        });

        // Раскрытие карточек на десктопе
        $(function () {
            // Действие при клике на кнопку
            $('.project-buttons').click(function () {

                if (window.innerWidth > 1439) {
                    // Добавляется класс с видимыми карточками
                    $('.project-items').toggleClass('open');
                }
                // if (window.innerWidth > 1439) {
                //     if 
                // }

                // Добавляется класс с выравниванием
                $('.project-view').toggleClass('full');
                // Добавляется класс с выравниванием отступов
                $('.project-items').toggleClass('full-margin');
                // Добавляется класс с выравниванием точек
                $('slick-dots').css('display', 'none');

                // Если контейнер с карточками имеет класс "open"
                if ($(".project-items").hasClass("open") || $(".project-view").hasClass("full") || $(
                        ".project-items").hasClass("full-margin")) {
                    // Пишем на кнопке: скрыть все проекты
                    $('.project-buttons').text('Скрыть все проекты');
                    // Иначе не имеет класса "open" контейнер с карточками
                } else {
                    // Пишем на кнопке: Смотреть все проекты
                    $('.project-buttons').text('Смотреть все проекты');
                }




            });
        });
    </script>
</body>

</html>